<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Micro-Resolution Planner</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --primary-300: #F9C97A; --primary-500: #F4A329; --primary-700: #B45309;
            --secondary-300: #7EDAD6; --secondary-500: #2BB6B4; --secondary-700: #0F766E;
            --accent-300: #F49DB8; --accent-500: #E8467B; --accent-700: #A61E4D;
            --bg: #FFF7F2; --surface: #FFFFFF; --border: #E6E9EF;
            --text: #1F2937;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            transition: all 0.3s ease;
            padding-top: 80px; /* Space for nav */
        }

        /* Persistent Navigation */
        nav {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--border);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 50;
        }

        .tile {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 16px;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .tile:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
        }

        .tile.selected {
            border-color: var(--secondary-500);
            background-color: #F0FDFA;
        }

        .pill-btn {
            border-radius: 9999px;
            padding: 6px 16px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
            border: 2px solid var(--border);
            background: white;
        }

        .pill-btn.active {
            background-color: var(--secondary-500);
            color: white;
            border-color: var(--secondary-500);
        }

        .primary-btn {
            background-color: var(--primary-500);
            color: white;
            border-radius: 9999px;
            padding: 12px 32px;
            font-weight: 700;
            transition: transform 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .primary-btn:hover {
            transform: scale(1.05);
            background-color: var(--primary-700);
        }

        .nav-btn {
            color: var(--text);
            padding: 8px 16px;
            border-radius: 9999px;
            font-weight: 600;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .nav-btn:hover {
            background: var(--primary-300);
        }

        .resolution-item {
            border-left: 4px solid var(--border);
            transition: all 0.2s;
        }

        .resolution-item.active {
            border-left-color: var(--accent-500);
            background: white;
        }
    </style>
</head>
<body>

    <nav class="px-4 py-3">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2 font-bold text-xl" style="color: var(--primary-700)">
                <i data-lucide="sparkles"></i> 2024 Planner
            </div>
            <button onclick="resetToMain()" class="nav-btn">
                <i data-lucide="home"></i> Main
            </button>
        </div>
    </nav>

    <div class="max-w-4xl mx-auto px-4 py-8">
        
        <section id="step-1">
            <header class="text-center mb-12">
                <h1 class="text-4xl font-bold mb-2" style="color: var(--primary-700)">Set Your Goals</h1>
                <p class="text-lg text-gray-600">Select the topics you want to focus on this year.</p>
            </header>
            <div id="topic-grid" class="grid grid-cols-2 md:grid-cols-5 gap-4">
                </div>
            <div class="mt-8 text-center">
                <button onclick="goToStep2()" id="btn-to-step-2" class="primary-btn opacity-50 pointer-events-none">
                    Next: Choose Resolutions <i data-lucide="arrow-right"></i>
                </button>
            </div>
        </section>

        <section id="step-2" class="hidden">
            <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
                <i data-lucide="check-square" class="text-teal-600"></i> 2. Select Your Micro-Resolutions
            </h2>
            <div id="resolutions-container" class="space-y-10">
                </div>
            <div class="mt-12 flex justify-between items-center bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                <button onclick="resetToMain()" class="text-gray-500 font-semibold hover:underline">Cancel</button>
                <button onclick="generateSummary()" class="primary-btn">Review & Finish</button>
            </div>
        </section>

        <section id="step-3" class="hidden text-center">
            <div class="bg-white p-8 rounded-[32px] shadow-xl border-4 border-dashed border-orange-200 inline-block w-full max-w-2xl">
                <div class="mb-4 text-pink-500"><i data-lucide="award" class="w-12 h-12 mx-auto"></i></div>
                <h2 class="text-3xl font-bold mb-4">Your 2024 Road Map</h2>
                <div id="summary-content" class="text-left space-y-3 mb-8 bg-orange-50 p-6 rounded-2xl border border-orange-100">
                    </div>
                <div class="flex flex-col md:flex-row gap-4 justify-center">
                    <button onclick="downloadResolutions()" class="primary-btn">
                        <i data-lucide="download"></i> Download Plan (.txt)
                    </button>
                    <button onclick="resetToMain()" class="pill-btn px-8 hover:bg-gray-100">
                        Start Over
                    </button>
                </div>
            </div>
        </section>
    </div>

    <script>
        const DATABASE = {
            "Sport": { emoji: "ðŸƒâ€â™‚ï¸", items: ["Take the stairs instead of the lift", "Do 10 push-ups before my shower", "Walk for 15 minutes after school", "Stretch while watching TV", "Go to the park once a week", "Try a new sport this month", "Ride my bike to a friendâ€™s house", "Do a 5-minute morning workout", "Stand up and move every hour", "Join a sports club or gym", "Dance to three favorite songs", "Walk 5,000 steps a day", "Carry my bag on both shoulders", "Play football or basketball", "Go swimming once a month"] },
            "Health": { emoji: "ðŸŽ", items: ["Drink water before every meal", "Eat one piece of fruit with breakfast", "Stop eating snacks after 8:00 PM", "Try one new vegetable every week", "Carry a reusable water bottle", "Eat my lunch slowly", "Help cook dinner once a week", "Eat a healthy breakfast every day", "Drink less soda", "Bring a healthy snack to school", "Learn how to cook a simple meal", "Say 'no' to a second dessert", "Eat more salad with dinner", "Check sugar labels on food", "Wash hands carefully before eating"] },
            "Social Media": { emoji: "ðŸ“±", items: ["Phone in another room while studying", "Turn off notifications for one hour", "No phone 30 mins before bed", "Delete one unused app", "Unfollow accounts that make me sad", "Check screen time every Sunday", "Post one positive comment daily", "Leave phone home for a short walk", "Charge phone away from bed", "A whole Saturday without social media", "Organize photos on my phone", "Call a friend instead of texting", "Limit TikTok/IG to 30 mins", "Use a real alarm clock", "Listen to a podcast while traveling"] },
            "English": { emoji: "ðŸ“š", items: ["Learn 3 new English words daily", "Read one page of an English book", "Watch one YouTube video in English", "Write a short diary entry in English", "Listen to an English song with lyrics", "Use an English dictionary app", "Speak English with a classmate", "Change phone language to English", "Do homework as soon as I get home", "Label objects in my room in English", "Practice grammar for 10 minutes", "Record myself speaking English", "Ask teacher one question every lesson", "Watch movies with English subtitles", "Learn one English idiom every week"] },
            "Social": { emoji: "ðŸ¤", items: ["Say 'good morning' to 3 people", "Give one compliment a day", "Hold the door for someone", "Help a classmate with a task", "Send a 'thank you' text to family", "Listen patiently to others", "Share snacks or things", "Smile at people in the corridor", "Offer my seat to an elderly person", "Write a kind note to a teacher", "Call grandparents once a week", "Forgive a small mistake", "Introduce myself to someone new", "Help clean the table after dinner", "Be a buddy to a younger student"] },
            "Sleep": { emoji: "ðŸ˜´", items: ["Bed at the same time every night", "Wake up 10 minutes earlier", "Make my bed every morning", "Prepare bag the night before", "Read a physical book before sleep", "Keep bedroom dark and quiet", "Open window for fresh air", "Brush teeth for two minutes", "Write a to-do list for tomorrow", "Drink a warm cup of herbal tea", "Sleep for at least 8 hours", "Dim lights 1 hour before bed", "Wash face morning and night", "Pick out clothes for tomorrow", "Take three deep breaths before getting up"] },
            "Environment": { emoji: "ðŸŒ±", items: ["Turn off lights when leaving a room", "Recycle bottles and paper", "Pick up one piece of litter daily", "Turn off tap while brushing teeth", "Use a reusable shopping bag", "Plant a small flower or herb", "Use both sides of paper", "Take a shorter shower", "Unplug charger when not in use", "Donate old clothes to charity", "Walk or cycle instead of a car", "Stop using plastic straws", "Tidy my desk every Friday", "Help with recycling at home", "Learn about one environmental issue"] },
            "Money": { emoji: "ðŸ’°", items: ["Save some pocket money every week", "Track spending in a notebook", "Wait 24h before buying something", "Bring a packed lunch to school", "Look for discounts before buying", "Open a savings account", "Sell things I don't need", "Compare prices in two shops", "Ask: 'Do I really need this?'", "Put spare change in a jar", "Learn to fix things", "Save up for a specific goal", "Borrow books from the library", "Make a gift instead of buying", "Have a movie night at home"] },
            "Mind": { emoji: "ðŸ§˜", items: ["Spend 5 mins breathing quietly", "Write 3 good things about my day", "Listen to a full music album", "Spend time alone in nature", "List things I am good at", "Take a long relaxing shower", "Stop comparing myself to others", "Say 'no' if I feel too busy", "Try a meditation app", "Color in a coloring book", "Drink water when feeling stressed", "Hug a pet or family member", "Walk without music", "Wear clothes that make me happy", "Spend 10 mins tidying my space"] },
            "Creativity": { emoji: "ðŸŽ¨", items: ["Draw in a sketchbook once a week", "Learn one song on an instrument", "Take a photo of something beautiful", "Write a poem or short story", "Try a new recipe", "Learn a magic trick", "Start a collection", "Watch a documentary", "Build something with LEGO", "Learn how to sew a button", "Start a digital journal", "Visit a museum or gallery", "Learn how to edit a short video", "Make a playlist for every mood", "Try origami"] }
        };

        let selectedTopics = [];
        let selections = [];

        function init() {
            const grid = document.getElementById('topic-grid');
            grid.innerHTML = '';
            Object.keys(DATABASE).forEach(topic => {
                const div = document.createElement('div');
                div.className = 'tile p-6 text-center flex flex-col items-center justify-center gap-2';
                div.innerHTML = `<span class="text-4xl">${DATABASE[topic].emoji}</span><span class="font-bold">${topic}</span>`;
                div.onclick = () => toggleTopic(topic, div);
                grid.appendChild(div);
            });
            lucide.createIcons();
        }

        function toggleTopic(topic, el) {
            if (selectedTopics.includes(topic)) {
                selectedTopics = selectedTopics.filter(t => t !== topic);
                el.classList.remove('selected');
            } else {
                selectedTopics.push(topic);
                el.classList.add('selected');
            }
            const btn = document.getElementById('btn-to-step-2');
            selectedTopics.length > 0 ? btn.classList.remove('opacity-50', 'pointer-events-none') : btn.classList.add('opacity-50', 'pointer-events-none');
        }

        function goToStep2() {
            window.scrollTo(0, 0);
            document.getElementById('step-1').classList.add('hidden');
            document.getElementById('step-2').classList.remove('hidden');
            renderResolutions();
        }

        function resetToMain() {
            if (confirm("Are you sure? This will clear your current progress.")) {
                selectedTopics = [];
                selections = [];
                document.getElementById('step-1').classList.remove('hidden');
                document.getElementById('step-2').classList.add('hidden');
                document.getElementById('step-3').classList.add('hidden');
                init();
            }
        }

        function renderResolutions() {
            const container = document.getElementById('resolutions-container');
            container.innerHTML = '';

            selectedTopics.forEach(topic => {
                const section = document.createElement('div');
                section.innerHTML = `<h3 class="text-xl font-bold mb-4 border-b-2 border-orange-100 pb-2">${DATABASE[topic].emoji} ${topic}</h3>`;
                const grid = document.createElement('div');
                grid.className = 'grid grid-cols-1 md:grid-cols-2 gap-3';

                DATABASE[topic].items.forEach(itemText => {
                    const div = document.createElement('div');
                    div.className = 'resolution-item p-4 bg-gray-50 rounded-r-xl flex flex-col gap-3';
                    div.innerHTML = `
                        <p class="text-md font-medium">${itemText}</p>
                        <div class="flex gap-2 flex-wrap">
                            <button class="pill-btn" onclick="toggleSelection(this, '${topic}', '${itemText}', '1 Week')">1 Week</button>
                            <button class="pill-btn" onclick="toggleSelection(this, '${topic}', '${itemText}', '1 Month')">1 Month</button>
                            <button class="pill-btn" onclick="toggleSelection(this, '${topic}', '${itemText}', '1 Year')">1 Year</button>
                        </div>
                    `;
                    grid.appendChild(div);
                });
                section.appendChild(grid);
                container.appendChild(section);
            });
        }

        function toggleSelection(btn, topic, text, duration) {
            const parent = btn.parentElement;
            const itemDiv = parent.parentElement;
            const wasActive = btn.classList.contains('active');
            parent.querySelectorAll('.pill-btn').forEach(b => b.classList.remove('active'));
            selections = selections.filter(s => s.text !== text);
            if (!wasActive) {
                btn.classList.add('active');
                itemDiv.classList.add('active');
                selections.push({ topic, text, duration });
            } else {
                itemDiv.classList.remove('active');
            }
        }

        function generateSummary() {
            if (selections.length === 0) {
                alert("Please pick at least one resolution!");
                return;
            }
            window.scrollTo(0, 0);
            document.getElementById('step-2').classList.add('hidden');
            document.getElementById('step-3').classList.remove('hidden');
            const summary = document.getElementById('summary-content');
            summary.innerHTML = selections.map(s => `
                <div class="flex items-start gap-2 border-b border-orange-100 pb-2 mb-2">
                    <span class="text-pink-500 font-bold">âœ¨</span>
                    <span>I'm going to <strong>${s.text}</strong> for <strong>${s.duration}</strong>.</span>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function downloadResolutions() {
            let content = "MY 2024 MICRO-RESOLUTIONS\n";
            content += "============================\n\n";
            selections.forEach(s => { content += `â€¢ [${s.topic}] I'm going to ${s.text} for ${s.duration}.\n`; });
            content += "\nGenerated with My Resolution Planner";
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'My_2024_Resolutions.txt';
            a.click();
        }

        init();
    </script>
</body>
</html>